<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Dot Study</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

<div class="container">
	<div class="py-5 text-center">
		<h2>로그인</h2>
	</div>
	<div class="row justify-content-center">
		<form class="needs-validation col-sm-6" th:action="@{/system/login}" method="post" novalidate>
			<!--  
                    <div class="form-group">
                        <label for="id">아이디</label>
                        <input id="id" type="text" class="form-control"
                               placeholder="whiteship" aria-describedby="nicknameHelp" required minlength="3" maxlength="20">
                        <small id="nicknameHelp" class="form-text text-muted">
                            공백없이 문자와 숫자로만 3자 이상 20자 이내로 입력하세요. 가입후에 변경할 수 있습니다.
                        </small>
                        <small class="invalid-feedback">닉네임을 입력하세요.</small>
                    </div>
                    -->

			<div class="form-group">
				<label for="email">이메일</label> 
				<input id="email" type="email" name="username" class="form-control" 
					placeholder="your@email.com" aria-describedby="emailHelp" required>
					 <small class="invalid-feedback">이메일을 입력하세요.</small>
			</div>

			<div class="form-group">
				<label for="password">패스워드</label>
				 <input id="password" type="password" class="form-control" name="password"
					aria-describedby="passwordHelp" required minlength="8"
					maxlength="50"> 
					<small id="passwordHelp" class="form-text text-muted"> </small> 
					<small class="invalid-feedback">8자 이상 50자 이내로 입력하세요. 영문자, 숫자,
					특수기호를 사용할 수 있으며 공백은 사용할 수 없습니다.</small>
			</div>

			<div class="form-group">
				<button class="btn btn-primary btn-block" type="submit"
					aria-describedby="submitHelp">로그인</button>
			</div>
			
			
			<div class="form-group">
				<a class="btn btn-secondary btn-block" th:href="@{/agree}"
					role="button">회원가입</a>
			</div>
		</form>
	</div>
	<div th:if="${param.error}" class="alert alert-danger">
	    <strong th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}" />
	</div>


	 <script type="application/javascript" th:fragment="form-validation">
		
	 (function () {
		    'use strict';

		    window.addEventListener('load', function () {
		        // 페이지 로딩이 완료되면이 블록 내의 코드가 실행됩니다.
		        // 'use strict';는 JavaScript에 대해 엄격한 규칙을 적용합니다.
		        
		        var forms = document.getElementsByClassName('needs-validation');
		        // 'needs-validation' 클래스를 가진 모든 요소를 가져옵니다 (Bootstrap 유효성 검사를 위한 클래스).
		        
		        Array.prototype.filter.call(forms, function (form) {
		            // form을 배열로 변환하고 filter 함수를 적용합니다.
		            
		            form.addEventListener('submit', function (event) {
		                // 양식의 제출 이벤트를 수신합니다.

		                if (form.checkValidity() === false) {
		                    // HTML5 유효성 검사를 기반으로 양식이 유효하지 않으면 제출을 방지합니다.
		                    event.preventDefault();
		                    event.stopPropagation();
		                }

		                form.classList.add('was-validated');
		                // 'was-validated' 클래스를 양식에 추가하여 Bootstrap 스타일을 적용합니다.
		            }, false);
		        });
		    }, false);
		}());
    
	</script> 
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

	</body>
</html>